---
interface FooterLink {
  label: string;
  href: string;
}

interface ContactPerson {
  name: string;
  email: string;
}

const {
  eventName,
  year,
  organizerName,
  organizerUrl,
  navLinks,
  socialLinks,
  contacts
} = Astro.props as {
  eventName?: string;
  year?: string | number;
  organizerName?: string;
  organizerUrl?: string;
  navLinks?: FooterLink[];
  socialLinks?: { name: string; url: string; icon: 'instagram' | 'linkedin' | 'twitter' | 'github' }[];
  contacts?: ContactPerson[];
};

// Template data
const displayEventName = eventName ?? 'Hackathon';
const displayYear = year ?? new Date().getFullYear();
const displayOrganizerName = organizerName ?? 'Organization Name';
const displayOrganizerUrl = organizerUrl ?? '#';

const templateNavLinks: FooterLink[] = [
  { label: 'Home', href: '#home' },
  { label: 'Schedule', href: '#schedule' },
  { label: 'Rules', href: '#rules' },
  { label: 'FAQs', href: '#faqs' }
];

const templateSocialLinks = [
  { name: 'Instagram', url: '#', icon: 'instagram' as const },
  { name: 'LinkedIn', url: '#', icon: 'linkedin' as const }
];

const templateContacts: ContactPerson[] = [
  { name: 'Contact Name', email: 'email@example.com' }
];

const displayNavLinks = navLinks ?? templateNavLinks;
const displaySocialLinks = socialLinks ?? templateSocialLinks;
const displayContacts = contacts ?? templateContacts;

const socialIcons = {
  instagram: '<path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4zm9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3"/>',
  linkedin: '<path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"/>',
  twitter: '<path d="M22.46 6c-.85.38-1.78.64-2.75.76a4.8 4.8 0 0 0 2.1-2.66c-.93.56-1.96.96-3.06 1.18A4.83 4.83 0 0 0 11.5 9.4c0 .38.04.75.13 1.1-4-.2-7.57-2.12-9.95-5.04a4.8 4.8 0 0 0-.66 2.43c0 1.68.85 3.16 2.15 4.02a4.77 4.77 0 0 1-2.19-.6v.06c0 2.34 1.66 4.29 3.87 4.74-.4.11-.83.17-1.27.17-.31 0-.62-.03-.92-.08a4.84 4.84 0 0 0 4.52 3.36 9.68 9.68 0 0 1-6 2.07c-.39 0-.77-.02-1.15-.07a13.65 13.65 0 0 0 7.4 2.17c8.88 0 13.73-7.36 13.73-13.74 0-.21 0-.41-.01-.62.94-.68 1.76-1.53 2.4-2.5"/>',
  github: '<path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/>'
};
---

<footer class="bg-graphite-900/80 backdrop-blur-sm border-t border-graphite-800/50 mt-16">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 py-12">
    <div class="grid grid-cols-2 md:grid-cols-3 gap-6 md:gap-12">
      <!-- Brand/Event Info -->
      <div>
        <h3 class="text-xl font-bold mb-3">{displayEventName}</h3>
        <p class="text-graphite-400 text-sm leading-relaxed">
          Build the future. Connect with innovators. Ship something amazing.
        </p>
        <div class="mt-6 flex gap-3">
          {displaySocialLinks.map((social) => (
            <a 
              href={social.url} 
              target="_blank" 
              rel="noopener noreferrer"
              class="flex items-center justify-center w-10 h-10 rounded-lg bg-graphite-800/40 border border-graphite-700/40 hover:border-primary-500/50 hover:bg-primary-500/10 transition-all duration-300"
              aria-label={social.name}
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-primary-300" viewBox="0 0 24 24" fill="currentColor">
                <Fragment set:html={socialIcons[social.icon]} />
              </svg>
            </a>
          ))}
        </div>
      </div>

      <!-- Quick Navigation -->
      <div>
        <h3 class="text-sm font-semibold uppercase tracking-wider text-graphite-300 mb-4">Quick Links</h3>
        <ul class="grid grid-flow-col grid-rows-4 gap-y-2 gap-x-6 auto-cols-fr md:flex md:flex-col md:space-y-2">
          {displayNavLinks.map((link) => (
            <li>
              <a 
                href={link.href} 
                class="text-graphite-400 hover:text-primary-200 transition-colors text-sm"
              >
                {link.label}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Connect With Us -->
      <div class="col-span-2 md:col-span-1">
        <h3 class="text-sm font-semibold uppercase tracking-wider text-graphite-300 mb-4">Connect with Us</h3>
        <div class="grid grid-flow-col grid-rows-2 gap-y-2 gap-x-6 auto-cols-fr md:flex md:flex-col md:space-y-2 mb-4">
          {displayContacts.map((contact) => (
            <div>
              <p class="text-graphite-400 text-sm">{contact.name}</p>
              <a 
                href={`mailto:${contact.email}`}
                class="text-primary-300 hover:text-primary-200 transition-colors text-sm"
              >
                {contact.email}
              </a>
            </div>
          ))}
        </div>
        <p class="text-xs text-graphite-500">
          Questions? Reach out anytime.
        </p>
      </div>
    </div>

    <!-- Copyright Bar -->
    <div class="mt-12 pt-8 border-t border-graphite-800/50">
      <div class="flex flex-col sm:flex-row justify-between items-center gap-4 text-sm text-graphite-500">
        <p>Â© {displayYear} {displayEventName}. All rights reserved.</p>
        <div class="flex gap-6">
          <a href="#rules" class="hover:text-graphite-300 transition-colors">Privacy</a>
          <a href="#rules" class="hover:text-graphite-300 transition-colors">Terms</a>
          <a href="#contact" class="hover:text-graphite-300 transition-colors">Contact</a>
        </div>
      </div>
    </div>
  </div>
</footer>
